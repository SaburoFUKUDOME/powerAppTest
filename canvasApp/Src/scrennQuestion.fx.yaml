scrennQuestion As screen:
    OnVisible: |
        =/*
        Set(currentNo, 1);
        Set(currentQuestion, LookUp('仮想構築支援ツール - 問い', ID=3).question_content);
        //Set(currentQuestion, LookUp('仮想構築支援ツール - 問い', Title=questionKey).設問);
        Set(currentTitle, LookUp('仮想構築支援ツール - 問い', ID=3).Title);
        //Set(currentQuestion, LookUp('仮想構築支援ツール - 問い', ID=questionKey).Title);
        Set(currentAnswer, galleryTheme.Selected.id1_answer);
        Set(currentPage, LookUp('仮想構築支援ツール - 問い', ID=3).current_question_number);
        Set(totalPage, LookUp('仮想構築支援ツール - 問い', ID=3).question_totalnumber);
        Set(commentary, LookUp('仮想構築支援ツール - 問い', ID=3).commentary);
        Set(example, LookUp('仮想構築支援ツール - 問い', ID=3).example);
        Set(controlType, LookUp('仮想構築支援ツール - 問い', ID=3).control_type);
        
        Set(nextVisible, true);
        Set(backVisible, false);
        Set(commentaryGroupVisible, true);
        Set(exampleGroupVisible, false);
        
        */
        
        //Set(controlType, LookUp('仮想構築支援ツール - 問い', ID=1).control_type);

    cmHeader_3 As cmHeader:

    questionHeaderGroup As group:
        Height: =5
        Width: =5
        X: =60
        Y: =60
        ZIndex: =5

        headerLabel_1 As rectangle:
            BorderColor: =RGBA(0, 0, 0, 0)
            Fill: =baseColor
            Height: =7
            Width: =Max(App.Width-100, App.MinScreenWidth-100)
            X: =40
            Y: =119
            ZIndex: =3

        titleLabel_1 As label:
            FontWeight: =Bold
            Height: =61
            Size: =14
            Text: ="Q＆Aフローシステム"
            Width: =427
            X: =40
            Y: =68
            ZIndex: =4

    questionLabel As label:
        Align: =Left
        Color: =baseColor
        FontWeight: =Semibold
        Size: =14
        Text: =currentQuestion
        Width: =996
        X: =92
        Y: =197
        ZIndex: =7

    questionTitleGroup As group:
        Height: =5
        Width: =5
        X: =4
        Y: =-91
        ZIndex: =7

        infoIcon As icon.Information:
            Color: =baseColor
            DisabledColor: =baseColor
            DisplayMode: =DisplayMode.View
            Height: =49
            HoverColor: =baseColor
            Icon: =Icon.Information
            PressedColor: =baseColor
            Width: =41
            X: =60
            Y: =139
            ZIndex: =5

        questionTitleLabel As label:
            FontWeight: =Semibold
            Height: =44
            Size: =15
            Text: =currentTitle
            Width: =897
            X: =101
            Y: =142
            ZIndex: =6

    textAnswer As text:
        BorderColor: =baseColor
        BorderStyle: =BorderStyle.None
        Default: =currentAnswer
        DisabledBorderColor: =baseColor
        Fill: =RGBA(237, 237, 237, 1)
        Height: =125
        HoverFill: =RGBA(237, 237, 237, 1)
        Mode: =TextMode.MultiLine
        PaddingBottom: =0
        PaddingLeft: |
            =10
        PaddingRight: =0
        PaddingTop: =0
        Visible: =If(controlType="text",true,false)
        Width: =936
        X: =88
        Y: =269
        ZIndex: =8

    Radio1 As radio:
        Default: =currentAnswer
        FocusedBorderThickness: =0
        FontWeight: =FontWeight.Semibold
        Height: =168
        Items: =Split(Substitute(LookUp(questionList,ID=questionKey).choice,Char(13),""),Char(10))
        Layout: =Layout.Horizontal
        RadioBorderColor: =baseColor
        RadioSelectionFill: =baseColor
        Visible: =If(controlType="radioButton",true,false)
        Width: =591
        X: =92
        Y: =279
        ZIndex: =20

    pagingGroup As group:
        Height: =5
        Width: =5
        X: =-871
        Y: =-595
        ZIndex: =20

        currentPageLabel As label:
            Color: =baseColor
            DisplayMode: =DisplayMode.View
            FontWeight: =Bold
            Height: =35
            Text: =currentPage
            Width: =35
            X: =963
            Y: =713
            ZIndex: =17

        totalPageLabel As label:
            Color: =baseColor
            DisplayMode: =DisplayMode.View
            FontWeight: =Bold
            Text: |
                =totalPage
            Width: =48
            X: =1002
            Y: =710
            ZIndex: =18

        Icon5 As icon.VerticalLine:
            Color: =baseColor
            DisplayMode: =DisplayMode.View
            Height: =30
            Icon: =Icon.VerticalLine
            Rotation: |
                =40
            Width: =42
            X: =974
            Y: =715
            ZIndex: =19

    cmHomeButtonEdit_1 As cmHomeButtonEdit:
        X: =1106
        Y: =128
        ZIndex: =21

    cmNavigation_2 As cmNavigation:
        X: =cmHomeButtonEdit_1.X
        Y: =301
        ZIndex: =22

    questionButtonComponent_1 As questionButtonComponent:
        setQuestionValue: |+
            =With({qRecord:LookUp(questionList, ID=qId)},
            Set(
                currentTitle,
                qRecord.Title
            );
            Set(
                currentQuestion,
                qRecord.question_content
            );
            
            Set(
                currentPage,
                qRecord.current_question_number
            );
            Set(
                totalPage,
                qRecord.question_totalnumber
            );
            Set(
                commentary,
                qRecord.commentary
            );
            Set(
                example,
                qRecord.example
            );
            Set(
                controlType,
                qRecord.control_type
            );
            Set(
                currentRequired,
                qRecord.required
            );
            If(buttonKey="next",
            //次へボタンの場合
            Set(
                nextVisible,
                If(qRecord.next_question_id=0,false,true)
            );
            Set(
                backVisible,
                true
            );,
            //戻るボタンの場合
            Set(
                nextVisible,
                true
            );
            Set(
                backVisible,
                 If(qRecord.back_question_id=0,false,true)
            ););
            
            Set(
                confirmVisible,
                If(qRecord.next_question_id=0,true,false)
            );
            
            With({getAnswerRecord:LookUp('仮説構築支援ツール - 回答',And(themeID=themeId,questionID=qId))},
            Reset(textAnswer);
            Reset(Checkbox1);
            Reset(Checkbox3);
            Set(
                currentAnswer,
                If(IsBlank(getAnswerRecord),"",getAnswerRecord.answer)
                );
            Set(
                skipFlag,
                getAnswerRecord.skip_flag
                );
            Set(
                noAnswerFlag,
                getAnswerRecord.no_answer_flag
                );
            );
             
            
            Set(questionKey,qId);
            Set(
                commentaryGroupVisible,
                true
            );
            Set(
                exampleGroupVisible,
                false
            );
            )
            
        X: =323
        Y: =705
        ZIndex: =23

    Checkbox1 As checkbox:
        CheckboxBorderColor: =baseColor
        Default: =skipFlag
        FocusedBorderThickness: =0
        FontWeight: =FontWeight.Semibold
        Text: ="後で答える"
        Visible: =If(Not(questionKey=1),true,false)
        X: =80
        Y: =390
        ZIndex: =29

    supplementGroups As group:
        Height: =5
        Width: =5
        X: =-8
        Y: =-365
        ZIndex: =29

        buttonLabel As label:
            BorderColor: =RGBA(163, 216, 246, 10)
            DisabledColor: =RGBA(163, 216, 246, 5)
            Fill: =RGBA(163, 216, 246, 5)
            FontWeight: =Normal
            Height: =55
            Overflow: =Overflow.Scroll
            Text: =
            Width: =936
            X: =87
            Y: =628
            ZIndex: =24

        exampleLabel As label:
            BorderColor: =RGBA(163, 216, 246, 10)
            DisabledColor: =RGBA(163, 216, 246, 5)
            Fill: =RGBA(163, 216, 246, 5)
            FontWeight: =Normal
            Height: =182
            Overflow: =Overflow.Scroll
            Text: ="例：" & Char(10)&Char(10) & example
            Visible: =exampleGroupVisible
            Width: =buttonLabel.Width
            X: =87
            Y: =447
            ZIndex: =25

        exampleButton As button:
            BorderColor: =White
            Color: =baseColor
            Fill: =White
            Height: =35
            HoverBorderColor: =ColorFade(White, -5%)
            HoverFill: =baseColor
            OnSelect: |
                =Set(exampleGroupVisible,false);
                Set(commentaryGroupVisible,true);
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =baseColor
            RadiusBottomLeft: =20
            RadiusBottomRight: =20
            RadiusTopLeft: =20
            RadiusTopRight: =20
            Size: =13
            Text: ="◀ 解説"
            Visible: =exampleGroupVisible
            Width: =100
            X: =880
            Y: =640
            ZIndex: =26

        commentaryLabel As label:
            BorderColor: =RGBA(163, 216, 246, 10)
            DisabledColor: =RGBA(163, 216, 246, 5)
            Fill: =RGBA(163, 216, 246, 5)
            FontWeight: =Normal
            Height: =185
            Overflow: =Overflow.Scroll
            Text: ="解説：" & Char(10)&Char(10) & commentary
            Visible: =commentaryGroupVisible
            Width: =936
            X: =87
            Y: =447
            ZIndex: =27

        commentaryButton As button:
            BorderColor: =White
            Color: =baseColor
            DisabledFill: =baseColor
            Fill: =White
            Height: =exampleButton.Height
            HoverBorderColor: =ColorFade(White, -5%)
            HoverFill: =baseColor
            OnSelect: |
                =Set(exampleGroupVisible,true);
                Set(commentaryGroupVisible,false);
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =baseColor
            RadiusBottomLeft: =20
            RadiusBottomRight: =20
            RadiusTopLeft: =20
            RadiusTopRight: =20
            Size: =13
            Text: ="例 ▶"
            Visible: =commentaryGroupVisible
            Width: =exampleButton.Width
            X: =exampleButton.X
            Y: =exampleButton.Y
            ZIndex: =28

    Checkbox3 As checkbox:
        CheckboxBorderColor: =baseColor
        Default: =noAnswerFlag
        FocusedBorderThickness: =0
        FontWeight: =FontWeight.Semibold
        Text: ="回答しない"
        Visible: =If(Not(Or(questionKey=1,currentRequired="2")),true,false)
        X: =240
        Y: =390
        ZIndex: =30

